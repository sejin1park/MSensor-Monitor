# MSensor_Monitor

### 이 코드는 QT 4.10.2 에서 작성되었으며, Mtome 에서 판매하는 MSensor의 데이터를 확인하기 위해 제작되었습니다.

### 2020-01-29) 1.0 ver 출시
 
## 설치 방법

### Setup.exe파일을 실행. MSensor.pro를 이용하여 실행합니다.

## 사용 방법

### 1. 프로그램 실행전 블루투스를 이용하여 MSensor와 페어링을 합니다.

### 2. 프로그램을 실행시킨 뒤 Connecting 버튼을 누릅니다. 이때 에러가 발생하면 에러코드가 나오는데, 에러코드별 에러내용은 다음과 같습니다.

### ERROR CODE 1 : BLE 전원이 꺼저 있을때. 혹은 DEVICE를 페어링 하지 않았을 때.

### ERROR CODE 2 : DEVICE의 전원이 꺼저 있을때.

### ERROR CODE 3 : MSensor가 아닌 다른 장치를 페어링 했을 때.

### ERROR CODE 4 : 2개 이상의 장비를 동시에 페어링 했을 때.

### 3. 연결이 정상적으로 완료되면, RAW Data 버튼 혹은 AHRS 버튼을 눌러 센서를 활성화 시킬 수 있습니다. 측정값이 이상하다면, Calibration버튼을 눌러 진행 할 수 있습니다. 

### (BLE 특성상 20byte 전송이 최대여서 Raw 데이터 부분과 AHRS 부분을 분리 하였습니다.)


### Magnet Calibration 진행 방법 : 10초간 센서를 다양한 범위로 회전시킵니다.

### Gyro Calibration 진행 방법 : 평평한 평지에 센서를 가만히 3초간 올려 놓습니다.

### RAW Data 버튼을 누르면 센서의 accel,gyro,magnet값이 출력되며실시간으로 그래프에 데이터가 출력되며, Data Save 버튼이 활성화 되어 파일이 설치된 폴더에 데이터를 저장할 수 있습니다.

### AHRS 버튼을 누르면, 쿼터니언값과 roll,pitch,yaw 값이 출력되며 3D 직육면체가 모션에 반응하여 움직입니다. Data Save 버튼이 활성화 되어 파일이 설치된 폴더에 데이터를 저장할 수 있습니다.

### 4.Period는 기본 10ms이며, 측정 버튼을 누른뒤에 수정이 가능하며 측정 종료시 다시 10ms로 변경됩니다.

## 기타사항

### 센서에서 나오는 쿼터니언값을 이용하여 회전을 표현하면 z축 각도가 실제와 다르게 약간 틀어저 있습니다. 이것은 APP에서 자신이 원하는 방향으로 틀어줘야 합니다.

### 주변에 전자기기가 많다면 센서가 오동작 할 가능성이 있습니다.

### 더욱 자세한 내용은 사용설명서를 참고하세요.
